<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Snap Quick Commerce API Documentation</title>
    <link rel="stylesheet" href="./styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
    <script src="./scripts.js"></script>
</head>

<body>
    <div class="wrapper">
        <nav class="sidebar">
            <div class="sidebar-header">
                <h3>Snap Quick Commerce</h3>
                <div class="logo">
                    <img src="./assets/logo.svg" alt="Logo">
                </div>
            </div>
            <ul class="nav-links">
                <li><a href="#introduction" class="active"><i class="fas fa-home"></i> Introduction</a></li>
                <li>
                    <a href="#authentication" class="dropdown-toggle"><i class="fas fa-lock"></i> Authentication</a>
                    <ul class="sub-menu">
                        <li><a href="#login">Login</a></li>
                        <li><a href="#register">Register</a></li>
                    </ul>
                </li>
                <li>
                    <a href="#products" class="dropdown-toggle"><i class="fas fa-box"></i> Products</a>
                    <ul class="sub-menu">
                        <li><a href="#get-all-products">Get All Products</a></li>
                        <li><a href="#get-product-by-id">Get Product by ID</a></li>
                        <li><a href="#create-product">Create Product</a></li>
                        <li><a href="#update-product">Update Product</a></li>
                        <li><a href="#delete-product">Delete Product</a></li>
                    </ul>
                </li>
                <li>
                    <a href="#inventory" class="dropdown-toggle"><i class="fas fa-warehouse"></i> Inventory</a>
                    <ul class="sub-menu">
                        <li><a href="#get-inventory">Get Inventory</a></li>
                        <li><a href="#get-low-stock">Get Low Stock Products</a></li>
                        <li><a href="#update-stock">Update Product Stock</a></li>
                    </ul>
                </li>
                <li>
                    <a href="#cart" class="dropdown-toggle"><i class="fas fa-shopping-cart"></i> Cart</a>
                    <ul class="sub-menu">
                        <li><a href="#get-cart">Get Cart</a></li>
                        <li><a href="#get-cart-total">Get Cart Total</a></li>
                        <li><a href="#add-to-cart">Add to Cart</a></li>
                        <li><a href="#update-cart-item">Update Cart Item</a></li>
                        <li><a href="#remove-cart-item">Remove Cart Item</a></li>
                    </ul>
                </li>
                <li>
                    <a href="#orders" class="dropdown-toggle"><i class="fas fa-receipt"></i> Orders</a>
                    <ul class="sub-menu">
                        <li><a href="#get-orders">Get Order History</a></li>
                        <li><a href="#get-order-by-id">Get Order by ID</a></li>
                        <li><a href="#place-order">Place Order</a></li>
                        <li><a href="#update-order-status">Update Order Status</a></li>
                    </ul>
                </li>
                <li>
                    <a href="#predictions" class="dropdown-toggle"><i class="fas fa-chart-line"></i> Predictions &
                        Recommendations</a>
                    <ul class="sub-menu">
                        <li><a href="#get-predictions">Get Demand Predictions</a></li>
                        <li><a href="#get-recommendations">Get Product Recommendations</a></li>
                    </ul>
                </li>
                <li><a href="#models"><i class="fas fa-database"></i> Data Models</a></li>
                <li><a href="#errors"><i class="fas fa-exclamation-triangle"></i> Error Handling</a></li>
            </ul>
        </nav>
        <div class="content">
            <header>
                <div class="header-container">
                    <div class="search-wrapper">
                        <input type="text" id="searchInput" placeholder="Search API documentation...">
                        <i class="fas fa-search"></i>
                    </div>
                    <div class="theme-toggle">
                        <i class="fas fa-moon"></i>
                    </div>
                </div>
            </header>
            <main>
                <section id="introduction">
                    <h1>Snap Quick Commerce API Documentation</h1>
                    <p>This documentation provides details about the API endpoints available in the Snap Quick Commerce
                        backend.</p>

                    <h2>Base URL</h2>
                    <div class="code-block">
                        <pre><code>http://localhost:8080/api</code></pre>
                    </div>

                    <h2>API Testing Tools</h2>
                    <div class="cards">
                        <div class="card">
                            <div class="card-icon"><i class="fas fa-file-code"></i></div>
                            <h3>Postman Collection</h3>
                            <p>Download our Postman collection to easily test all API endpoints.</p>
                            <a href="./SnapQuickCommerce.postman_collection.json" class="btn" download>Download</a>
                        </div>
                        <div class="card">
                            <div class="card-icon"><i class="fas fa-book"></i></div>
                            <h3>Swagger UI</h3>
                            <p>Access the interactive API documentation via Swagger UI.</p>
                            <a href="http://localhost:8080/swagger-ui.html" class="btn" target="_blank">Visit Swagger
                                UI</a>
                        </div>
                    </div>
                </section>

                <section id="authentication">
                    <h2>Authentication</h2>
                    <p>Most endpoints require authentication. To authenticate, include the JWT token in the
                        Authorization header:</p>
                    <div class="code-block">
                        <pre><code>Authorization: Bearer &lt;token&gt;</code></pre>
                    </div>
                    <p>To obtain a token, use the login endpoint.</p>

                    <div id="login" class="endpoint">
                        <div class="endpoint-header">
                            <h3>Login</h3>
                            <span class="method post">POST</span>
                            <span class="path">/auth/login</span>
                        </div>
                        <div class="endpoint-content">
                            <p>Authenticates a user and returns a JWT token.</p>

                            <h4>Request Body</h4>
                            <div class="code-block">
                                <pre><code class="language-json">{
  "username": "string",
  "password": "string"
}</code></pre>
                            </div>

                            <h4>Success Response (200 OK)</h4>
                            <div class="code-block">
                                <pre><code class="language-json">{
  "token": "jwt-token-string",
  "user": {
    "userId": 1,
    "username": "username"
  }
}</code></pre>
                            </div>

                            <h4>Error Response (401 Unauthorized)</h4>
                            <div class="code-block">
                                <pre><code class="language-json">"Invalid username or password"</code></pre>
                            </div>

                            <div class="try-it">
                                <button class="try-it-btn" onclick="showTryIt('login')">Try It</button>
                                <div id="try-it-login" class="try-it-form" style="display:none;">
                                    <h4>Request</h4>
                                    <div class="form-group">
                                        <label for="login-username">Username:</label>
                                        <input type="text" id="login-username" value="user1">
                                    </div>
                                    <div class="form-group">
                                        <label for="login-password">Password:</label>
                                        <input type="password" id="login-password" value="password123">
                                    </div>
                                    <button class="execute-btn" onclick="executeRequest('login')">Execute</button>
                                    <div class="response-container">
                                        <h4>Response</h4>
                                        <pre class="response-body"><code id="login-response"></code></pre>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div id="register" class="endpoint">
                        <div class="endpoint-header">
                            <h3>Register</h3>
                            <span class="method post">POST</span>
                            <span class="path">/auth/register</span>
                        </div>
                        <div class="endpoint-content">
                            <p>Creates a new user account.</p>

                            <h4>Request Body</h4>
                            <div class="code-block">
                                <pre><code class="language-json">{
  "username": "string",
  "password": "string"
}</code></pre>
                            </div>

                            <h4>Success Response (201 Created)</h4>
                            <div class="code-block">
                                <pre><code class="language-json">{
  "userId": 1,
  "username": "username"
}</code></pre>
                            </div>

                            <h4>Error Response (400 Bad Request)</h4>
                            <div class="code-block">
                                <pre><code class="language-json">"Username already exists"</code></pre>
                            </div>

                            <div class="try-it">
                                <button class="try-it-btn" onclick="showTryIt('register')">Try It</button>
                                <div id="try-it-register" class="try-it-form" style="display:none;">
                                    <h4>Request</h4>
                                    <div class="form-group">
                                        <label for="register-username">Username:</label>
                                        <input type="text" id="register-username" value="newuser">
                                    </div>
                                    <div class="form-group">
                                        <label for="register-password">Password:</label>
                                        <input type="password" id="register-password" value="password123">
                                    </div>
                                    <button class="execute-btn" onclick="executeRequest('register')">Execute</button>
                                    <div class="response-container">
                                        <h4>Response</h4>
                                        <pre class="response-body"><code id="register-response"></code></pre>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <section id="products">
                    <h2>Products</h2>

                    <div id="get-all-products" class="endpoint">
                        <div class="endpoint-header">
                            <h3>Get All Products</h3>
                            <span class="method get">GET</span>
                            <span class="path">/products</span>
                        </div>
                        <div class="endpoint-content">
                            <p>Retrieves a list of all products, with optional filtering.</p>

                            <h4>Query Parameters</h4>
                            <table>
                                <thead>
                                    <tr>
                                        <th>Parameter</th>
                                        <th>Type</th>
                                        <th>Description</th>
                                        <th>Required</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>category</td>
                                        <td>string</td>
                                        <td>Filter by product category</td>
                                        <td>No</td>
                                    </tr>
                                    <tr>
                                        <td>search</td>
                                        <td>string</td>
                                        <td>Search term for product name or description</td>
                                        <td>No</td>
                                    </tr>
                                </tbody>
                            </table>

                            <h4>Success Response (200 OK)</h4>
                            <div class="code-block">
                                <pre><code class="language-json">[
  {
    "productId": 1,
    "name": "Product Name",
    "description": "Product Description",
    "price": 19.99,
    "category": "Category",
    "imageUrl": "http://example.com/image.jpg"
  }
]</code></pre>
                            </div>

                            <div class="try-it">
                                <button class="try-it-btn" onclick="showTryIt('get-all-products')">Try It</button>
                                <div id="try-it-get-all-products" class="try-it-form" style="display:none;">
                                    <h4>Request</h4>
                                    <div class="form-group">
                                        <label for="products-category">Category (optional):</label>
                                        <input type="text" id="products-category" placeholder="e.g. Electronics">
                                    </div>
                                    <div class="form-group">
                                        <label for="products-search">Search Term (optional):</label>
                                        <input type="text" id="products-search" placeholder="e.g. phone">
                                    </div>
                                    <button class="execute-btn"
                                        onclick="executeRequest('get-all-products')">Execute</button>
                                    <div class="response-container">
                                        <h4>Response</h4>
                                        <pre class="response-body"><code id="get-all-products-response"></code></pre>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Additional product endpoints would go here -->
                </section>

                <!-- Additional sections for other endpoints would go here -->

                <section id="models">
                    <h2>API Object Models</h2>

                    <h3>Product</h3>
                    <div class="code-block">
                        <pre><code class="language-json">{
  "productId": 1,
  "name": "Product Name",
  "category": "Category",
  "price": 9.99,
  "currentStock": 100,
  "description": "Product description",
  "imageUrl": "product-image.jpg",
  "createdAt": "2023-01-01T12:00:00",
  "updatedAt": "2023-01-01T12:00:00"
}</code></pre>
                    </div>

                    <h3>Cart Item</h3>
                    <div class="code-block">
                        <pre><code class="language-json">{
  "itemId": 1,
  "userId": 1,
  "productId": 1,
  "productName": "Product Name",
  "productPrice": 9.99,
  "productImageUrl": "product-image.jpg",
  "quantity": 2,
  "subtotal": 19.98
}</code></pre>
                    </div>

                    <h3>Order</h3>
                    <div class="code-block">
                        <pre><code class="language-json">{
  "orderId": 1,
  "user": {
    "userId": 1,
    "username": "username"
  },
  "orderDate": "2023-01-01T12:00:00",
  "status": "placed",
  "orderItems": [
    {
      "orderItemId": 1,
      "product": {
        "productId": 1,
        "name": "Product Name"
      },
      "quantity": 2,
      "priceAtOrder": 9.99
    }
  ],
  "totalAmount": 19.98
}</code></pre>
                    </div>

                    <h3>Prediction</h3>
                    <div class="code-block">
                        <pre><code class="language-json">{
  "predictionId": 1,
  "productId": 1,
  "predictedQuantity": 50,
  "confidence": 0.85,
  "forecastDate": "2023-01-10",
  "predictionDate": "2023-01-01"
}</code></pre>
                    </div>
                </section>

                <section id="errors">
                    <h2>Error Handling</h2>
                    <p>The API uses standard HTTP status codes to indicate the result of a request:</p>

                    <table class="param-table">
                        <thead>
                            <tr>
                                <th>Code</th>
                                <th>Description</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>200 OK</td>
                                <td>The request was successful</td>
                            </tr>
                            <tr>
                                <td>201 Created</td>
                                <td>A resource was successfully created</td>
                            </tr>
                            <tr>
                                <td>204 No Content</td>
                                <td>The request was successful, but there is no content to return</td>
                            </tr>
                            <tr>
                                <td>400 Bad Request</td>
                                <td>The request was invalid</td>
                            </tr>
                            <tr>
                                <td>401 Unauthorized</td>
                                <td>Authentication is required or failed</td>
                            </tr>
                            <tr>
                                <td>403 Forbidden</td>
                                <td>The client doesn't have permission to access the resource</td>
                            </tr>
                            <tr>
                                <td>404 Not Found</td>
                                <td>The requested resource was not found</td>
                            </tr>
                            <tr>
                                <td>500 Internal Server Error</td>
                                <td>An unexpected error occurred on the server</td>
                            </tr>
                        </tbody>
                    </table>

                    <p>Error responses typically include a message describing the error.</p>
                </section>
            </main>
            <footer>
                <div class="footer-content">
                    <p>&copy; 2023 Snap Quick Commerce. All rights reserved.</p>
                    <p>The API documentation can be viewed locally by running the Spring Boot application and accessing
                        <a href="http://localhost:8080/docs">http://localhost:8080/docs</a>.</p>
                </div>
            </footer>
        </div>
    </div>

    <!-- Optional: Add language-specific highlight.js scripts if needed -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/json.min.js"></script>
</body>

</html>